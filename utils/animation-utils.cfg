#textdomain wesnoth-Return_of_the_Monster
#define TGA_DESC2
This era is another default-like factions type, but with a bunch of distinguishable features : both ground and water faction (seperated in The Golden age, and TGA Naval (Which Incledes IQ cuttlefishes, and RotM nagas), Carapaces, BW drakes, EoMa orcish berserkers and salamanders,Sylvan(Elves, Pixies, Wose and Merfolk alliance),IftU undead (lvl3 skeleton rider included),lvl5 lich lord (sadly not advancadle to :( ),quite a few saurians (which keep up with 1.12 standarts),a bunch of lvl4s, Age of Legends (like AOH but with lvl4 leaders :O ), and lots more...) Inspired by eras like Ageless era and WotG,but instead of plenty poor-graphic factions, its more mainline-like 
#enddef
#define TGA_DESC
This era is basically another Extended Era-type project, but one more ageless era scale, being pretty picky about what new factions to choose, so far here is a quick review of all that currently exist here (no longer up to date though):

Humans:pretty much your standard loyalists, i mean they are still as cavalry-relying (now with a lvl1 version of lancer), but they have lvl1 white mages, 2 lvl0 support units (Fisherman,Signalman) and more.

Sylvan:like rebels, but 1.without mages (they are replaced by lvl1 sorceresses)2.they have lvl0s and flying scout unit, a lvl1 Elvish Lord, and a few faerie types too

Dwarves:biggest change is they dont have outlaws in their ranks anymore, but have quite a few optional lines, and a unit with inspires, gyrocopter, and healer, and a mage to briefly compensate for that

Drakes:unlike normal drakes, who only ally with saurians, these have quite a variety of races to choose from, from tanky carapaces, to backstabbing salamanders

Orcs:have a shaman and berserker lines, and a lvl0 orc, otherwise not too much

Outlaws:have quite a variety of lvl0s, a leadership unit with distract, and a helear,otherwise pretty weak, not really the best faction to choose, since they are not really much without their former dwarf friends

Undead:have two mounted lines (and a third, but on a fish), a leadership branch for skeleton,a berserker unit, a lvl1 Shadow, and an extended as far as to lvl5 DA line

Khalifate: most khalifate faction redos use english names, but i prefer keeping the tradition, they have more optional branches, and an aracher backstabber line

Northerners:not to be confused with the mainline ones, these are various creatures living in far north, such as snow fairies, snow golems sunicorns (Yay! :) and northern humans

Monsters:have a variety of different types of unit which dont have as much similarities between eachother as other factions

Avians: just 2 lvl1s, and a gryphon, nothing else though
#enddef
#define SUB_FRAME_BOMB ATTACK_FILTER DIR HALO_X HALO_Y
    [attack_anim]
        [filter_attack]
            {ATTACK_FILTER}
        [/filter_attack]
        hits=yes
        direction={DIR}

        missile_start_time=-200
        explosion_sound_start_time=-200
        start_time=0

        [missile_frame]
            duration=200
            image="projectiles/stone.png"
            image_diagonal="projectiles/stone.png"
        [/missile_frame]

        [explosion_sound_frame]
            sound=explosion.ogg
        [/explosion_sound_frame]

        [frame]
            halo="halo/bomb-explode-[1~6].png:50,misc/blank-hex.png:50"
            halo_x,halo_y={HALO_X},{HALO_Y}
            sound=gunshot.wav
        [/frame]
    [/attack_anim]
#enddef

#define MISSILE_FRAME_BOMB ATTACK_FILTER
    [attack_anim]
        [filter_attack]
            {ATTACK_FILTER}
        [/filter_attack]
        hits=no

        missile_start_time=-200
        explosion_sound_start_time=-200
        start_time=0

        [missile_frame]
            duration=200
            image="projectiles/stone.png"
            image_diagonal="projectiles/stone.png"
        [/missile_frame]

        [explosion_sound_frame]
            sound=explosion.ogg
        [/explosion_sound_frame]

        [frame]
            duration=200
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]

    {SUB_FRAME_BOMB {ATTACK_FILTER} n 0 -64}
    {SUB_FRAME_BOMB {ATTACK_FILTER} s 0 64}
    {SUB_FRAME_BOMB {ATTACK_FILTER} ne,nw 54 -32}
    {SUB_FRAME_BOMB {ATTACK_FILTER} se,sw 54 32}
#enddef

#define EVENT_LIGHT_BEAM X Y TIME
    [item]
        halo=halo/holy/light-beam-1.png
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-1.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-2.png
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay] 
    [sound]
        name={SOUND_LIST:HOLY}
    [/sound]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-2.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-3.png
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-3.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-4.png
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-4.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-5.png
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-5.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-6.png
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-6.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-7.png
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-7.png
    [/remove_item] 
    [delay]
        time=300
    [/delay]

    [item]
        halo=halo/holy/light-beam-1.png
        x,y={X},{Y}
    [/item]
    [delay]
        time={TIME}
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-1.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-2.png
        x,y={X},{Y}
    [/item]
    [delay]
        time={TIME}
    [/delay] 
    [sound]
        name={SOUND_LIST:HOLY}
    [/sound]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-2.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-3.png
        x,y={X},{Y}
    [/item]
    [delay]
        time={TIME}
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-3.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-4.png
        x,y={X},{Y}
    [/item]
    [delay]
        time={TIME}
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-4.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-5.png
        x,y={X},{Y}
    [/item]
    [delay]
        time={TIME}
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-5.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-6.png
        x,y={X},{Y}
    [/item]
    [delay]
        time={TIME}
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-6.png
    [/remove_item] 
    [item]
        halo=halo/holy/light-beam-7.png
        x,y={X},{Y}
    [/item]
    [delay]
        time={TIME}
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image=halo/holy/light-beam-7.png
    [/remove_item] 
#enddef

#define MISSILE_FRAME_BOLAS
    missile_start_time=-200   
    [missile_frame]
        image="projectiles/bolas-n.png:200"
        image_diagonal="projectiles/bolas-ne.png:200"
    [/missile_frame]
#enddef

#define MISSILE_FRAME_ROTM_WATER_BREATH
    missile_start_time=-500

    [missile_frame]
        image="projectiles/watermissile-n-[1~7].png:[150*3,50*4]"
        image_diagonal="projectiles/watermissile-ne-[1~7].png:[150*3,50*4]"
    [/missile_frame]
#enddef

#define ROTM_VEVYAN_MAGIC X Y 
    [item]
        halo="units/undead/soulless-die-10.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="units/undead/soulless-die-10.png"
    [/remove_item]
    [item]
        halo="units/undead/soulless-die-9.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="units/undead/soulless-die-9.png"
    [/remove_item]
    [item]
        halo="units/undead/soulless-die-8.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="units/undead/soulless-die-8.png"
    [/remove_item]
    [item]
        halo="units/undead/soulless-die-7.png"
        x,y={X},{Y}
    [/item]
    [sound]
        name={SOUND_LIST:SKELETON_BIG_HIT}
    [/sound]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="units/undead/soulless-die-7.png"
    [/remove_item]
    [item]
        halo="units/undead/soulless-die-6.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="units/undead/soulless-die-6.png"
    [/remove_item]
    [item]
        halo="units/undead/soulless-die-5.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="units/undead/soulless-die-5.png"
    [/remove_item]
    [item]
        halo="units/undead/soulless-die-4.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="units/undead/soulless-die-4.png"
    [/remove_item]
#enddef

#define ROTM_MISSILE_HIT X Y
    [item]
        halo="projectiles/whitemissile-impact-3.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=100
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="projectiles/whitemissile-impact-3.png"
    [/remove_item]
    [sound]
        name=petrified.ogg
    [/sound]
    [item]
        halo="projectiles/whitemissile-impact-4.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="projectiles/whitemissile-impact-4.png"
    [/remove_item]
    [item]
        halo="projectiles/whitemissile-impact-5.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="projectiles/whitemissile-impact-5.png"
    [/remove_item]
    [item]
        halo="projectiles/whitemissile-impact-6.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="projectiles/whitemissile-impact-6.png"
    [/remove_item]
    [item]
        halo="projectiles/whitemissile-impact-7.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=75
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="projectiles/whitemissile-impact-7.png"
    [/remove_item]
    [item]
        halo="projectiles/whitemissile-impact-8.png"
        x,y={X},{Y}
    [/item]
    [delay]
        time=100
    [/delay]
    [remove_item]
        x,y={X},{Y}
        image="projectiles/whitemissile-impact-8.png"
    [/remove_item]
#enddef

#define ROTM_MOVING_ANIM_DIRECTIONAL_6_FRAME BASE_IMAGE_NAME
    [movement_anim]
        start_time=0
        [if]
            direction=s,se,sw
            [frame]
                image={BASE_IMAGE_NAME}-se-run[1~6].png:100
            [/frame]
        [/if]
        [else]
            direction=n,ne,nw
            [frame]
                image={BASE_IMAGE_NAME}-ne-run[1~6].png:100
            [/frame]
        [/else]
    [/movement_anim]
#enddef
#define DIVINE_LIGHTNING DIRECTION_NUMBER
    [if]
        direction=sw,s,se

        [missile_frame]
            begin=-250
            end=150
            halo=halo/d-lightning-bolt-{DIRECTION_NUMBER}-1.png~FL(vert):100,halo/d-lightning-bolt-{DIRECTION_NUMBER}-2.png~FL(vert):100,halo/d-lightning-bolt-{DIRECTION_NUMBER}-3.png~FL(vert):100,halo/d-lightning-bolt-{DIRECTION_NUMBER}-4.png~FL(vert):100
            halo_y=-125
            offset=1.0
        [/missile_frame]
    [/if]
    [else]
        direction=nw,n,ne

        [missile_frame]
            begin=-250
            end=150
            halo=halo/d-lightning-bolt-{DIRECTION_NUMBER}-1.png:100,halo/d-lightning-bolt-{DIRECTION_NUMBER}-2.png:100,halo/d-lightning-bolt-{DIRECTION_NUMBER}-3.png:100,halo/d-lightning-bolt-{DIRECTION_NUMBER}-4.png:100
            halo_y=-125
            offset=1.0
        [/missile_frame]
    [/else]
#enddef
#define ELF_TELEPORT_ANIM UNIT PATHFUNC
    [animation]
        apply_to=pre_teleport
        start_time=-1200

        teleport_sparkle_1_start_time=-1200
        teleport_sparkle_2_start_time=-1000
        teleport_sparkle_3_start_time=-800

        [teleport_sparkle_1_frame]
            duration=800
            halo=misc/blank-hex.png:1,halo/teleport-[9,8,1~9].png,misc/blank-hex.png:1
            halo_x=-10
            halo_y=30~-30
        [/teleport_sparkle_1_frame]
        [teleport_sparkle_2_frame]
            duration=800
            halo=misc/blank-hex.png:1,halo/teleport-[9,8,1~9].png,misc/blank-hex.png:1
            halo_x=0
            halo_y=40~-40
        [/teleport_sparkle_2_frame]
        [teleport_sparkle_3_frame]
            duration=800
            halo=misc/blank-hex.png:1,halo/teleport-[9,8,1~9].png,misc/blank-hex.png:1
            halo_x=10
            halo_y=30~-30
        [/teleport_sparkle_3_frame]

        [frame]
            image="units/elves-wood/{UNIT}-teleport-[1,1~8].png{PATHFUNC}:100"
        [/frame]
        [frame]
            duration=300
            image="misc/blank-hex.png"
        [/frame]
    [/animation]
    [animation]
        apply_to=post_teleport
        start_time=-1200

        teleport_sparkle_1_start_time=-1200
        teleport_sparkle_2_start_time=-1000
        teleport_sparkle_3_start_time=-800

        [teleport_sparkle_1_frame]
            duration=800
            halo=misc/blank-hex.png:1,halo/teleport-[9,8,1~9].png,misc/blank-hex.png:1
            halo_x=10
            halo_y=-30~30
        [/teleport_sparkle_1_frame]
        [teleport_sparkle_2_frame]
            duration=800
            halo=misc/blank-hex.png:1,halo/teleport-[9,8,1~9].png,misc/blank-hex.png:1
            halo_x=0
            halo_y=-40~40
        [/teleport_sparkle_2_frame]
        [teleport_sparkle_3_frame]
            duration=800
            halo=misc/blank-hex.png:1,halo/teleport-[9,8,1~9].png,misc/blank-hex.png:1
            halo_x=-10
            halo_y=-30~30
        [/teleport_sparkle_3_frame]
        [frame]
            duration=300
            image="misc/blank-hex.png"
        [/frame]
        [frame]
            image="units/elves-wood/{UNIT}-teleport-[8~1,1].png{PATHFUNC}:100"
        [/frame]
    [/animation]
#enddef
#define ATHVARI_DEFENSE_ANIM R G B REACTION_IMAGE BASE_IMAGE HIT_SOUND HALO
    [defend]
        start_time=-175
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.2)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.4)"
        [/frame]
        [frame]
            duration=60
            image={REACTION_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.6)"
        [/frame]
        [frame]
            duration=60
            image={REACTION_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.8)"
        [/frame]
        [if]
            hits=hit
            [frame]
                duration=120
                image={REACTION_IMAGE}
                sound={HIT_SOUND}
                halo="halo/{HALO}.png"
                halo_mod="~CS({R},{G},{B})"
            [/frame]
        [/if]
        [else]
            hits=miss,kill
            [frame]
                duration=120
                image={REACTION_IMAGE}
                halo="halo/{HALO}.png"
                halo_mod="~CS({R},{G},{B})"
            [/frame]
        [/else]
        [frame]
            duration=60
            image={REACTION_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.8)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.6)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.4)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~CS({R},{G},{B})~O(0.2)"
        [/frame]
    [/defend]
#enddef
#define ATHVARI_DEFENSE_ANIM_MOD MODNAME MODVALUE REACTION_IMAGE BASE_IMAGE HIT_SOUND HALO
    [defend]
        start_time=-175
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.2)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.4)"
        [/frame]
        [frame]
            duration=60
            image={REACTION_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.6)"
        [/frame]
        [frame]
            duration=60
            image={REACTION_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.8)"
        [/frame]
        [if]
            hits=hit
            [frame]
                duration=120
                image={REACTION_IMAGE}
                sound={HIT_SOUND}
                halo="halo/{HALO}.png"
                halo_mod="~{MODNAME}({MODVALUE})"
            [/frame]
        [/if]
        [else]
            hits=miss,kill
            [frame]
                duration=120
                image={REACTION_IMAGE}
                halo="halo/{HALO}.png"
                halo_mod="~{MODNAME}({MODVALUE})"
            [/frame]
        [/else]
        [frame]
            duration=60
            image={REACTION_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.8)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.6)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.4)"
        [/frame]
        [frame]
            duration=30
            image={BASE_IMAGE}
            halo="halo/{HALO}.png"
            halo_mod="~{MODNAME}({MODVALUE})~O(0.2)"
        [/frame]
    [/defend]
#enddef
#define MISSILE_FRAME_FOAP_COLD_FLASH
    missile_start_time=-500
    [missile_frame]
        duration=225
        image="projectiles/icemissile-n-1.png"
        image_diagonal="projectiles/icemissile-ne-1.png"
        halo=halo/ice-halo1.png:100,halo/ice-halo2.png:100,halo/ice-halo3.png:25
        halo_x,halo_y=0,0
    [/missile_frame]
    [missile_frame]
        duration=150
        image="projectiles/icemissile-n-2.png"
        image_diagonal="projectiles/icemissile-ne-2.png"
        halo=halo/ice-halo3.png:75,halo/ice-halo4.png:75
        halo_x,halo_y=0,0
    [/missile_frame]
    [missile_frame]
        duration=250
        image="projectiles/icemissile-n-3.png"
        image_diagonal="projectiles/icemissile-ne-3.png"
        halo=halo/ice-halo5.png:100,halo/ice-halo1.png:100,halo/ice-halo2.png:50
        halo_x,halo_y=0,0
    [/missile_frame]
    [missile_frame]
        duration=50
        image="projectiles/icemissile-n-4.png"
        image_diagonal="projectiles/icemissile-ne-4.png"
        halo=halo/ice-halo6.png
        halo_x,halo_y=0,0
    [/missile_frame]
    [missile_frame]
        duration=50
        image="projectiles/icemissile-n-5.png"
        image_diagonal="projectiles/icemissile-ne-5.png"
        halo=halo/ice-halo7.png
        halo_x,halo_y=0,0
    [/missile_frame]
    [missile_frame]
        duration=50
        image="projectiles/icemissile-n-6.png"
        image_diagonal="projectiles/icemissile-ne-6.png"
        halo=halo/ice-halo8.png
        halo_x,halo_y=0,0
    [/missile_frame]
    [missile_frame]
        duration=50
        image="projectiles/icemissile-n-7.png"
        image_diagonal="projectiles/icemissile-ne-7.png"
        halo=halo/ice-halo9.png
        halo_x,halo_y=0,0
    [/missile_frame]
#enddef
#define ARCHAIC_STANDING_BIG_TORCH IMG X X2 Y
    [standing_anim]
        start_time=0
        torch_start_time=0

        [if]
            direction=n,ne,se
            [frame]
                image={IMG}
                auto_hflip=no
                auto_vflip=no
                primary=yes
            [/frame]
            [torch_frame]
                image="halo/torch-big/flame-[1~17].png:120"
                layer=45
                x={X}
                y={Y}
                auto_hflip=no
                auto_vflip=no
                primary=no
            [/torch_frame]
        [/if]
        [else]
            direction=s,sw,nw
            [frame]
                image={IMG}~FL(horiz)
                auto_hflip=no
                auto_vflip=no
                primary=yes
            [/frame]
            [torch_frame]
                image="halo/torch-big/flame-[1~17].png:120"
                layer=45
                x={X2}
                y={Y}
                auto_hflip=yes
                auto_vflip=no
                primary=no
            [/torch_frame]
        [/else]
    [/standing_anim]
#enddef
#define ARCHAIC_STANDING_SMALL_TORCH IMG X X2 Y
    [standing_anim]
        start_time=0
        torch_start_time=0

        [if]
            direction=n,ne,se
            [frame]
                image={IMG}
                auto_hflip=no
                auto_vflip=no
                primary=yes
            [/frame]
            [torch_frame]
                image="halo/torch-small/flame-[1~17].png:120"
                layer=45
                x={X}
                y={Y}
                auto_hflip=no
                auto_vflip=no
                primary=no
            [/torch_frame]
        [/if]
        [else]
            direction=s,sw,nw
            [frame]
                image={IMG}~FL(horiz)
                auto_hflip=no
                auto_vflip=no
                primary=yes
            [/frame]
            [torch_frame]
                image="halo/torch-small/flame-[1~17].png:120"
                layer=45
                x={X2}
                y={Y}
                auto_hflip=yes
                auto_vflip=no
                primary=no
            [/torch_frame]
        [/else]
    [/standing_anim]
#enddef
#define ARCHAIC_STANDING_SMALL_TORCH_DYED IMG X X2 Y R G B
    [standing_anim]
        start_time=0
        torch_start_time=0

        [if]
            direction=n,ne,se
            [frame]
                image={IMG}
                auto_hflip=no
                auto_vflip=no
                primary=yes
            [/frame]
            [torch_frame]
                image="halo/torch-small/flame-[1~17].png~CS({R},{G},{B}):120"
                layer=45
                x={X}
                y={Y}
                auto_hflip=no
                auto_vflip=no
                primary=no
            [/torch_frame]
        [/if]
        [else]
            direction=s,sw,nw
            [frame]
                image={IMG}~FL(horiz)
                auto_hflip=no
                auto_vflip=no
                primary=yes
            [/frame]
            [torch_frame]
                image="halo/torch-small/flame-[1~17].png~CS({R},{G},{B}):120"
                layer=45
                x={X2}
                y={Y}
                auto_hflip=yes
                auto_vflip=no
                primary=no
            [/torch_frame]
        [/else]
    [/standing_anim]
#enddef
#define MELEE_FRAME_FIRE_AURA _MELEE_FRAME _BASE_FRAME _SOUND
    start_time=-150
    [if]
        hits=no
        [frame]
            duration=50
            image={_BASE_FRAME}
        [/frame]
        [frame]
            duration=200
            image={_MELEE_FRAME}
            sound={SOUND_LIST:MISS}
        [/frame]
        [frame]
            duration=200
            image={_BASE_FRAME}
        [/frame]
    [/if]
    [else]
        hits=yes
        [frame]
            duration=50
            halo=projectiles/fire-burst-small-1.png
            image={_BASE_FRAME}
            sound={_SOUND}
        [/frame]
        [frame]
            halo="projectiles/fire-burst-small-[1~4].png:50"
            image={_MELEE_FRAME}
        [/frame]
        [frame]
            halo="projectiles/fire-burst-small-[5~8].png:50"
            image={_BASE_FRAME}
        [/frame]
    [/else]
#enddef

#define BURST_FRAME_FAERIE_MYSTIC_FIRE
    burst_start_time=0
    burst_offset=0.8~1.0

    [burst_frame][/burst_frame]
    [burst_frame]
        image="projectiles/fire-burst-small-[1~8].png:75"
    [/burst_frame]
#enddef

#define MISSILE_FRAME_FAERIE_MYSTIC_FIRE
    specialfx_auto_vflip=false
    specialfx_start_time=-331
    specialfx_halo_mod="~CS(0,-64,-256)~O(50%)"

    [specialfx_frame]
        halo="halo/saurian-magic-halo-[1~7].png:50"
    [/specialfx_frame]

    {MISSILE_FRAME_FIRE_BREATH 12,-39 12,19 25,-26 27,19}
#enddef
#define ATO_MOVING_ANIM_DIRECTIONAL_6_FRAME BASE_IMAGE_NAME
    [movement_anim]
        start_time=0
        [if]
            direction=s,se,sw
            [frame]
                image={BASE_IMAGE_NAME}-se-run[1~6].png:100
            [/frame]
        [/if]
        [else]
            direction=n,ne,nw
            [frame]
                image={BASE_IMAGE_NAME}-ne-run[1~6].png:100
            [/frame]
        [/else]
    [/movement_anim]
#enddef
#define TGA_FADE_TELEPORT_ANIM_PRE BASEFRAME
        [frame]
            image="{BASEFRAME}:100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(90%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(80%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(70%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(60%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(50%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(40%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(30%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(20%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(10%):100"
        [/frame]
        [frame]
            image="misc/blank-hex.png:300"
        [/frame]
#enddef
#define TGA_FADE_TELEPORT_ANIM_POST BASEFRAME
        [frame]
            image="misc/blank-hex.png:300"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(10%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(20%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(30%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(40%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(50%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(60%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(70%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(80%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}~O(90%):100"
        [/frame]
        [frame]
            image="{BASEFRAME}:100"
        [/frame]
#enddef
#define MISSILE_FRAME_TGA_STORM R G B
        start_time=-600
    missile1_start_time=-600
    missile2_start_time=-450
    missile3_start_time=-300

    [if]
        direction=n,ne,nw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[7~1].png:150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=1.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[7~1].png:150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=1.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[7~1].png:150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=1.0
        [/missile3_frame]
    [/if]
    [else]
        direction=s,se,sw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[1~7].png~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=1.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[1~7].png~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=1.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[1~7].png~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=1.0
        [/missile3_frame]
    [/else]
#enddef
#define MISSILE_FRAME_TGA_STORM_BIG SIZE R G B
        start_time=-600
    missile1_start_time=-600
    missile2_start_time=-450
    missile3_start_time=-300

    [if]
        direction=n,ne,nw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[7~1].png~SCALE({SIZE},{SIZE}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=1.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[7~1].png~SCALE({SIZE},{SIZE}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=1.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[7~1].png~SCALE({SIZE},{SIZE}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=1.0
        [/missile3_frame]
    [/if]
    [else]
        direction=s,se,sw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE},{SIZE})~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=1.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE},{SIZE})~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=1.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE},{SIZE})~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=1.0
        [/missile3_frame]
    [/else]
#enddef
#define MISSILE_FRAME_TGA_STORM_SELF R G B
        start_time=-600
    missile1_start_time=-600
    missile2_start_time=-450
    missile3_start_time=-300

    [if]
        direction=n,ne,nw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[7~1].png:150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=0.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[7~1].png:150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=0.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[7~1].png:150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=0.0
        [/missile3_frame]
    [/if]
    [else]
        direction=s,se,sw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[1~7].png~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=0.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[1~7].png~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=0.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[1~7].png~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=0.0
        [/missile3_frame]
    [/else]
#enddef
#define MISSILE_FRAME_TGA_STORM_SELF_BIG SIZE R G B
        start_time=-600
    missile1_start_time=-600
    missile2_start_time=-450
    missile3_start_time=-300

    [if]
        direction=n,ne,nw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[7~1].png~SCALE({SIZE},{SIZE}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=0.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[7~1].png~SCALE({SIZE},{SIZE}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=0.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[7~1].png~SCALE({SIZE},{SIZE}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=0.0
        [/missile3_frame]
    [/if]
    [else]
        direction=s,se,sw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE},{SIZE})~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=0.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE},{SIZE})~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=0.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE},{SIZE})~FL(vert):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=0.0
        [/missile3_frame]
    [/else]
#enddef
#define MISSILE_FRAME_TGA_TORNADO_SELF_BIG SIZE1 SIZE2 SIZE3 R G B
        start_time=-600
    missile1_start_time=-600
    missile2_start_time=-450
    missile3_start_time=-300

    [if]
        direction=n,ne,nw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[7~1].png~FL(vert)~SCALE({SIZE1},{SIZE1}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=0.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[7~1].png~FL(vert)~SCALE({SIZE2},{SIZE2}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=0.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[7~1].png~FL(vert)~SCALE({SIZE3},{SIZE3}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=0.0
        [/missile3_frame]
    [/if]
    [else]
        direction=s,se,sw

        [missile1_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE1},{SIZE1}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-30
            offset=0.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE2},{SIZE2}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=-10
            offset=0.0
        [/missile2_frame]
        [missile3_frame]
            halo="halo/saurian-magic-halo-[1~7].png~SCALE({SIZE3},{SIZE3}):150"
            halo_mod="~CS({R},{G},{B})"
            halo_y=10
            offset=0.0
        [/missile3_frame]
    [/else]
#enddef

#define MISSILE_FRAME_NOVA
    [if]
        hits=yes
        [missile_frame]
            begin=-200
            end=0
            image="projectiles/nova-n.png"
            image_diagonal="projectiles/nova-ne.png"
            offset=0.0~0.8
        [/missile_frame]
        [missile_frame]
            begin=0
            end=50
            halo="projectiles/nova-impact-1.png"
            offset=0.8
        [/missile_frame]
        [missile_frame]
            begin=50
            end=100
            halo="projectiles/nova-impact-2.png"
            offset=0.92
        [/missile_frame]
        [missile_frame]
            begin=100
            end=150
            halo="projectiles/nova-impact-3.png"
            offset=0.94
        [/missile_frame]
        [missile_frame]
            begin=150
            end=200
            halo="projectiles/nova-impact-4.png"
            offset=0.96
        [/missile_frame]
        [missile_frame]
            begin=200
            end=250
            halo="projectiles/nova-impact-5.png"
            offset=0.98
        [/missile_frame]
        [missile_frame]
            begin=250
            end=300
            halo="projectiles/nova-impact-6.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            begin=300
            end=350
            halo="projectiles/nova-impact-7.png"
            offset=1.02
        [/missile_frame]
        [missile_frame]
            begin=350
            end=400
            halo="projectiles/nova-impact-8.png"
            offset=1.04
        [/missile_frame]
    [/if]
    [else]
        hits=no
        [missile_frame]
            begin=-200
            end=0
            image="projectiles/nova-n.png"
            image_diagonal="projectiles/nova-ne.png"
            offset=0.0~0.8
            alpha=.8~0.0:200
        [/missile_frame]
    [/else]
#enddef
#define MISSILE_FRAME_SKULLBLAST_RED
    [if]
        direction=sw,s,se
        hits=yes
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile1_frame]
            halo="projectiles/skull.png~CS(80,-40-75)~SCALE(120,120)~O(70%)~FL(vert):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
        [missile_frame]
            halo="halo/undead/dark-magic-[1~6].png~CS(80,-40-75)~FL(vert):100"
            halo_y=5
            offset=1.0
        [/missile_frame]
#        [missile_frame]
#            halo="projectiles/icemissile-n-[5~7].png~CS(80,-40-75)~FL(vert):100"
#            halo_y=-5
#            offset=1.0
#        [/missile_frame]
    [/if]
    [else]
        direction=nw,n,ne
        hits=yes
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile1_frame]
            halo="projectiles/skull.png~CS(80,-40-75)~SCALE(120,120)~O(70%):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
        [missile_frame]
            halo="halo/undead/dark-magic-[1~6].png~CS(80,-40-75):100"
            halo_y=5
            offset=1.0
        [/missile_frame]
#        [missile_frame]
#            halo="projectiles/icemissile-n-[5~7].png~CS(80,-40-75):100"
#            halo_y=-5
#            offset=1.0
#        [/missile_frame]
    [/else]
    [else]
        direction=nw,n,ne
        hits=no
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile_frame]
            halo="misc/blank-hex.png:100"
            halo_y=-40
            offset=1.0
        [/missile_frame]
        [missile1_frame]
            halo="projectiles/skull.png~CS(80,-40-75)~SCALE(120,120)~O(70%):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
    [/else]
    [else]
        direction=sw,s,se
        hits=no
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile_frame]
            halo="misc/blank-hex.png:100"
            halo_y=-40
            offset=1.0
        [/missile_frame]
        [missile1_frame]
            halo="projectiles/skull.png~CS(80,-40-75)~SCALE(120,120)~O(70%)~FL(vert):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
    [/else]
#enddef
#define MISSILE_FRAME_SKULLBLAST
    [if]
        direction=sw,s,se
        hits=yes
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile1_frame]
            halo="projectiles/skull.png~SCALE(120,120)~O(70%)~FL(vert):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
        [missile_frame]
            halo="halo/undead/dark-magic-[1~6].png~FL(vert):100"
            halo_y=5
            offset=1.0
        [/missile_frame]
#        [missile_frame]
#            halo="projectiles/icemissile-n-[5~7].png~FL(vert):100"
#            halo_y=-5
#            offset=1.0
#        [/missile_frame]
    [/if]
    [else]
        direction=nw,n,ne
        hits=yes
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile1_frame]
            halo="projectiles/skull.png~SCALE(120,120)~O(70%):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
        [missile_frame]
            halo="halo/undead/dark-magic-[1~6].png:100"
            halo_y=5
            offset=1.0
        [/missile_frame]
#        [missile_frame]
#            halo="projectiles/icemissile-n-[5~7].png:100"
#            halo_y=-5
#            offset=1.0
#        [/missile_frame]
    [/else]
    [else]
        direction=nw,n,ne
        hits=no
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile_frame]
            halo="misc/blank-hex.png:100"
            halo_y=-40
            offset=1.0
        [/missile_frame]
        [missile1_frame]
            halo="projectiles/skull.png~SCALE(120,120)~O(70%):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
    [/else]
    [else]
        direction=sw,s,se
        hits=no
        missile_start_time=-200
        missile1_start_time=-200
        start_time=-350

        [missile_frame]
            halo="misc/blank-hex.png:100"
            halo_y=-40
            offset=1.0
        [/missile_frame]
        [missile1_frame]
            halo="projectiles/skull.png~SCALE(120,120)~O(70%)~FL(vert):500"
            halo_y=-40
            offset=1.0
        [/missile1_frame]
    [/else]
#enddef
#define MISSILE_FRAME_SHADOW_COMBUSTION
    [if]
        direction=sw,s,se
        missile_start_time=-200
        missile1_start_time=-200
        missile2_start_time=-200
        start_time=-350

        [missile_frame]
            halo="misc/blank-hex.png:100"
            halo_y=-40
            offset=1.0
        [/missile_frame]
        [missile1_frame]
            halo="halo/undead/dark-magic-[1~6].png~FL(vert):100"
            halo_x=30~2
            halo_y=5
            offset=1.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/undead/dark-magic-[1~6].png~FL(vert):100"
            halo_x=-30~-2
            halo_y=5
            offset=1.0
        [/missile2_frame]
        [missile_frame]
            halo="projectiles/icemissile-n-[5~7].png~FL(vert)~CS(-32,-128,0):100"
            halo_y=-5
            offset=1.0
        [/missile_frame]
    [/if]
    [else]
        direction=nw,n,ne
        missile_start_time=-200
        missile1_start_time=-200
        missile2_start_time=-200
        start_time=-350
        [missile_frame]
            halo="misc/blank-hex.png:100"
            halo_y=-40
            offset=1.0
        [/missile_frame]
        [missile1_frame]
            halo="halo/undead/dark-magic-[1~6].png:100"
            halo_x=30~2
            halo_y=5
            offset=1.0
        [/missile1_frame]
        [missile2_frame]
            halo="halo/undead/dark-magic-[1~6].png:100"
            halo_x=-30~-2
            halo_y=5
            offset=1.0
        [/missile2_frame]
        [missile_frame]
            halo="projectiles/icemissile-n-[5~7].png~CS(-32,-128,0):100"
            halo_y=-5
            offset=1.0
        [/missile_frame]
    [/else]
#enddef
#define AE_FAILED_FIREBALL
    #   missile_start_time=-350

    [else]
        direction=n,ne,nw
        hits=no

        missile_offset=0.0~0.20,0.20~0.35,0.35~0.40,0.4~0.45
        [missile_frame]
            halo="projectiles/fireball-fail-[1~7].png:100"
            halo_x=5~0
            halo_y=-20~0
        [/missile_frame]
    [/else]
    [else]
        direction=s,se,sw
        hits=no

        missile_offset=0.0~0.20,0.20~0.35,0.35~0.40,0.4~0.45
        [missile_frame]
            halo="projectiles/fireball-fail-[1~7].png~FL(vert):100"
            halo_x=5~0
            halo_y=-20~0
        [/missile_frame]
    [/else]
#enddef
#define MELEE_FRAME_SWOOSH SOUND MODS
    start_time=-330
    offset=0.0~0.3,0.3~0.5,0.5~0.6,0.6~0.7,0.7~0.6,0.6~0.3,0.3~0.0
    [if]
        direction=n
        [frame]
            duration=720
	    halo="misc/swoosh-n-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/if]
    [else]
        direction=ne,nw
        [frame]
            duration=720
	    halo="misc/swoosh-ne-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/else]
    [else]
        direction=s
        [frame]
            duration=720
	    halo="misc/swoosh-n-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/else]
    [else]
        direction=se,sw
        [frame]
            duration=720
	    halo="misc/swoosh-ne-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/else]
#enddef
#define MELEE_FRAME_SWOOSH2 SOUND MODS
    start_time=-330
    offset=0.0~0.3,0.3~0.5,0.5~0.6,0.6~0.7,0.7~0.6,0.6~0.3,0.3~0.0
    [if]
        direction=n
        [frame]
            duration=720
	    halo="misc/swoosh-n2-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/if]
    [else]
        direction=ne,nw
        [frame]
            duration=720
	    halo="misc/swoosh-ne2-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/else]
    [else]
        direction=s
        [frame]
            duration=720
	    halo="misc/swoosh-n2-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/else]
    [else]
        direction=se,sw
        [frame]
            duration=720
	    halo="misc/swoosh-ne2-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUND_LIST:MISS} -400}
    [/else]
#enddef
#define MELEE_SWOOSH_ANIM_DUAL NAME SOUND MODS
    [attack_anim]
        [filter_attack]
            name={NAME}
        [/filter_attack]
        {MELEE_FRAME_SWOOSH {SOUND} "{MODS}"}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name={NAME}
        [/filter_attack]
        {MELEE_FRAME_SWOOSH2 {SOUND} "{MODS}"}
    [/attack_anim]
#enddef
#define MELEE_FRAME_SWOOSH_CUSTOM SOUND SOUNDMISS MODS
    start_time=-330
    offset=0.0~0.3,0.3~0.5,0.5~0.6,0.6~0.7,0.7~0.6,0.6~0.3,0.3~0.0
    [if]
        direction=n
        [frame]
            duration=720
	    halo="misc/swoosh-n-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/if]
    [else]
        direction=ne,nw
        [frame]
            duration=720
	    halo="misc/swoosh-ne-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/else]
    [else]
        direction=s
        [frame]
            duration=720
	    halo="misc/swoosh-n-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/else]
    [else]
        direction=se,sw
        [frame]
            duration=720
	    halo="misc/swoosh-ne-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/else]
#enddef
#define MELEE_FRAME_SWOOSH_CUSTOM2 SOUND SOUNDMISS MODS
    start_time=-330
    offset=0.0~0.3,0.3~0.5,0.5~0.6,0.6~0.7,0.7~0.6,0.6~0.3,0.3~0.0
    [if]
        direction=n
        [frame]
            duration=720
	    halo="misc/swoosh-n2-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/if]
    [else]
        direction=ne,nw
        [frame]
            duration=720
	    halo="misc/swoosh-ne2-[1~5].png{MODS}:[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/else]
    [else]
        direction=s
        [frame]
            duration=720
	    halo="misc/swoosh-n2-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/else]
    [else]
        direction=se,sw
        [frame]
            duration=720
	    halo="misc/swoosh-ne2-[1~5].png{MODS}~FL(vert):[140*5]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -400}
    [/else]
#enddef
#define MELEE_SWOOSH_CUSTOM_ANIM_DUAL NAME SOUND SOUNDMISS MODS
    [attack_anim]
        [filter_attack]
            name={NAME}
        [/filter_attack]
        {MELEE_FRAME_SWOOSH {SOUND} {SOUNDMISS} "{MODS}"}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name={NAME}
        [/filter_attack]
        {MELEE_FRAME_SWOOSH2 {SOUND} {SOUNDMISS} "{MODS}"}
    [/attack_anim]
#enddef
#define MELEE_FRAME_SWOOSH_CUSTOM_MOUNTED SOUND SOUNDMISS SOUNDSTART MODS
    start_time=-330
    offset=0.0~0.3,0.3~0.5,0.5~0.6,0.6~0.7,0.7~0.6,0.6~0.3,0.3~0.0
    [if]
        direction=n
        [frame]
            duration=720
	    halo="misc/swoosh-n-[1~5].png{MODS}:[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/if]
    [else]
        direction=ne,nw
        [frame]
            duration=720
	    halo="misc/swoosh-ne-[1~5].png{MODS}:[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/else]
    [else]
        direction=s
        [frame]
            duration=720
	    halo="misc/swoosh-n-[1~5].png{MODS}~FL(vert):[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/else]
    [else]
        direction=se,sw
        [frame]
            duration=720
	    halo="misc/swoosh-ne-[1~5].png{MODS}~FL(vert):[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/else]
#enddef
#define MELEE_FRAME_SWOOSH2_CUSTOM_MOUNTED SOUND SOUNDMISS SOUNDSTART MODS
    start_time=-330
    offset=0.0~0.3,0.3~0.5,0.5~0.6,0.6~0.7,0.7~0.6,0.6~0.3,0.3~0.0
    [if]
        direction=n
        [frame]
            duration=720
	    halo="misc/swoosh-n2-[1~5].png{MODS}:[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/if]
    [else]
        direction=ne,nw
        [frame]
            duration=720
	    halo="misc/swoosh-ne2-[1~5].png{MODS}:[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/else]
    [else]
        direction=s
        [frame]
            duration=720
	    halo="misc/swoosh-n2-[1~5].png{MODS}~FL(vert):[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/else]
    [else]
        direction=se,sw
        [frame]
            duration=720
	    halo="misc/swoosh-ne2-[1~5].png{MODS}~FL(vert):[140*5]"
            sound={SOUNDSTART}
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND} {SOUNDMISS} -225}
    [/else]
#enddef
#define MISSILE_FRAME_NATURE_FLARE
    missile_start_time=-350
    [if]
        direction=n,ne,nw
        hits=yes
        [missile_frame]
            duration=40
            image="projectiles/natureflare-n-1.png"
            image_diagonal="projectiles/natureflare-nw-1.png"
            offset=0.0~0.10
        [/missile_frame]
        [missile_frame]
            duration=100
            image="projectiles/natureflare-n-2.png"
            image_diagonal="projectiles/natureflare-nw-2.png"
            offset=0.1~0.30
        [/missile_frame]
        [missile_frame]
            duration=125
            image="projectiles/natureflare-n.png"
            image_diagonal="projectiles/natureflare-nw.png"
            offset=0.3~0.60
        [/missile_frame]
        [missile_frame]
            duration=55
            image="projectiles/natureflare-n-2.png"
            image_diagonal="projectiles/natureflare-nw-2.png"
            offset=0.7~0.8
        [/missile_frame]
        [missile_frame]
            duration=30
            image="projectiles/natureflare-n-1.png"
            image_diagonal="projectiles/natureflare-nw-1.png"
            offset=0.8~0.9
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-1.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-2.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-3.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-4.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-5.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-6.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-7.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-8.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-9.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-10.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-11.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-12.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-13.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-14.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-15.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-16.png"
            offset=1.0
        [/missile_frame]
    [/if]
    [else]
        direction=s,se,sw
        hits=yes
        [missile_frame]
            duration=40
            image="projectiles/natureflare-n-1.png"
            image_diagonal="projectiles/natureflare-nw-1.png"
            offset=0.0~0.10
        [/missile_frame]
        [missile_frame]
            duration=100
            image="projectiles/natureflare-n-2.png"
            image_diagonal="projectiles/natureflare-nw-2.png"
            offset=0.1~0.30
        [/missile_frame]
        [missile_frame]
            duration=125
            image="projectiles/natureflare-n.png"
            image_diagonal="projectiles/natureflare-nw.png"
            offset=0.3~0.60
        [/missile_frame]
        [missile_frame]
            duration=55
            image="projectiles/natureflare-n-2.png"
            image_diagonal="projectiles/natureflare-nw-2.png"
            offset=0.7~0.8
        [/missile_frame]
        [missile_frame]
            duration=30
            image="projectiles/natureflare-n-1.png"
            image_diagonal="projectiles/natureflare-nw-1.png"
            offset=0.8~0.9
        [/missile_frame]

        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-1.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-2.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-3.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-4.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-5.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-6.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-7.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-8.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-9.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-10.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-11.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-12.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-13.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-14.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-15.png~FL(vert)"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=60
            halo="projectiles/natureflare-impact-16.png~FL(vert)"
            offset=1.0
        [/missile_frame]
    [/else]
    [else]
        direction=n,ne,nw
        hits=no
        [missile_frame]
            duration=40
            image="projectiles/natureflare-n-1.png"
            image_diagonal="projectiles/natureflare-nw-1.png"
            offset=0.0~0.1
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-3.png"
            offset=0.1~0.3
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-4.png"
            offset=0.3~0.4
            alpha=1.0~0.8
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-5.png"
            offset=0.4~0.45
            alpha=0.8~0.6
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-6.png"
            offset=0.45~0.5
            alpha=0.6~0.4
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-7.png"
            offset=0.5
            alpha=0.4~0.2
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-8.png"
            offset=0.5
            alpha=0.2~0.0
        [/missile_frame]
    [/else]
    [else]
        direction=s,se,sw
        hits=no
        [missile_frame]
            duration=40
            image="projectiles/natureflare-n-1.png"
            image_diagonal="projectiles/natureflare-nw-1.png"
            offset=0.0~0.1
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-3.png~FL(vert)"
            offset=0.1~0.3
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-4.png~FL(vert)"
            offset=0.3~0.4
            alpha=1.0~0.8
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-5.png~FL(vert)"
            offset=0.4~0.45
            alpha=0.8~0.6
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-6.png~FL(vert)"
            offset=0.45~0.5
            alpha=0.6~0.4
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-7.png~FL(vert)"
            offset=0.5
            alpha=0.4~0.2
        [/missile_frame]
        [missile_frame]
            duration=40
            halo="projectiles/natureflare-impact-8.png~FL(vert)"
            offset=0.5
            alpha=0.2~0.0
        [/missile_frame]
    [/else]
#enddef

#define MISSILE_FRAME_TERRA_ORBIS
    [if]
        hits=yes
        [missile_frame]
            begin=-200
            end=0
            image="projectiles/terraorbis.png"
            image_diagonal="projectiles/terraorbis.png"
            offset=0.0~0.8
        [/missile_frame]
        [missile_frame]
            begin=0
            end=50
            halo="projectiles/terraorbis-impact-1.png"
            offset=0.8
            sound=magic-faeriefire.ogg
        [/missile_frame]
        [missile_frame]
            begin=50
            end=100
            halo="projectiles/terraorbis-impact-2.png"
            offset=0.92
        [/missile_frame]
        [missile_frame]
            begin=100
            end=150
            halo="projectiles/terraorbis-impact-3.png"
            offset=0.94
        [/missile_frame]
        [missile_frame]
            begin=150
            end=200
            halo="projectiles/terraorbis-impact-4.png"
            offset=0.96
        [/missile_frame]
        [missile_frame]
            begin=200
            end=250
            halo="projectiles/terraorbis-impact-5.png"
            offset=0.98
        [/missile_frame]
        [missile_frame]
            begin=250
            end=300
            halo="projectiles/terraorbis-impact-6.png"
            offset=1.0
        [/missile_frame]
        [missile_frame]
            begin=300
            end=350
            halo="projectiles/terraorbis-impact-7.png"
            offset=1.02
        [/missile_frame]
    [/if]
    [else]
        hits=no
        [missile_frame]
            begin=-200
            end=0
            image="projectiles/terraorbis.png"
            image_diagonal="projectiles/terraorbis.png"
            offset=0.0~0.8
            alpha=.8~0.0:200
        [/missile_frame]
    [/else]
#enddef
#define BLIZZARD_ANIMATION
    missile_start_time=-400
    halo_start_time=-200
    [missile_frame]
        duration=100
        image=projectiles/snow-n-1.png
        image_diagonal=projectiles/snow-ne-1.png
        offset=0.6~0.8
    [/missile_frame]
    [missile_frame]
        duration=300
        image=projectiles/snow-n-2.png
        image_diagonal=projectiles/snow-ne-2.png
        offset=0.6~0.9
    [/missile_frame]
    #Time=0
    [missile_frame]
        duration=200
        image=projectiles/snow-n-2.png
        image_diagonal=projectiles/snow-ne-2.png
        alpha=1~0
        offset=0.9~1.0
    [/missile_frame]
    [halo_frame]
        duration=600
        # Halo is not working with the alpha correctly, so just use the image/image_diagonal
        image=halo/ice.png
        image_diagonal=halo/ice.png
        alpha=0~0.4:250,0.4:100,0.4~0:250
        offset=1
        layer=90
    [/halo_frame]
#enddef

#define BLIZZARD_ATTACK NAME UNIT_IMAGE UNIT_CAST_IMAGE ANIM_WML
    [attack_anim]
        [filter_attack]
            name={NAME}
        [/filter_attack]
        start_time=-450

        {ANIM_WML}

        [frame]
            duration=50
            image={UNIT_IMAGE}
        [/frame]
        [if]
            hits=no
            [frame]
                duration=200
                image={UNIT_CAST_IMAGE}
                sound=magic-faeriefire-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes
            [frame]
                duration=200
                image={UNIT_CAST_IMAGE}
                sound=magic-faeriefire.ogg
            [/frame]
        [/else]
        [frame]
            duration=200
            image={UNIT_CAST_IMAGE}
        [/frame]
        # Time=0
        [frame]
            duration=250
            image={UNIT_CAST_IMAGE}
        [/frame]
        [frame]
            duration=50
            image={UNIT_IMAGE}
        [/frame]

        {STORM_HALO}
        {BLIZZARD_ANIMATION}
    [/attack_anim]
#enddef
#define STORM_HALO
    waterhalo_start_time=-250
    [waterhalo_frame]
        duration=50
        halo=halo/merfolk/water-halo-4.png
    [/waterhalo_frame]
    [waterhalo_frame]
        duration=50
        halo=halo/merfolk/water-halo-3.png
    [/waterhalo_frame]
    [waterhalo_frame]
        duration=50
        halo=halo/merfolk/water-halo-4.png
    [/waterhalo_frame]
    [waterhalo_frame]
        duration=50
        halo=halo/merfolk/water-halo-5.png
    [/waterhalo_frame]
    [waterhalo_frame]
        duration=50
        halo=halo/merfolk/water-halo-6.png
    [/waterhalo_frame]
    [waterhalo_frame]
        duration=50
        halo=halo/merfolk/water-halo-7.png
    [/waterhalo_frame]
    [waterhalo_frame]
        duration=10
    [/waterhalo_frame]
#enddef
#define FLAME_BLAST_FRAME _NUM _START_TIME _X _Y
    flame_blast_{_NUM}_start_time={_START_TIME}
    flame_blast_{_NUM}_auto_vflip=no
    flame_blast_{_NUM}_offset=1.0
    [flame_blast_{_NUM}_frame]
        halo="halo/flame-burst-[1~8].png:50"
        halo_x={_X}
        halo_y={_Y}
    [/flame_blast_{_NUM}_frame]
#enddef

#define FLAME_BLAST_ANIMATION
    offset=0.0

    flame_sound_start_time=-400
    [flame_sound_frame]
        duration=100
        sound=fire.wav
    [/flame_sound_frame]

    {FLAME_BLAST_FRAME 1 -400 -22   0}

    {FLAME_BLAST_FRAME 2 -350 -14   9}

    {FLAME_BLAST_FRAME 3 -300   0  12}

    {FLAME_BLAST_FRAME 4 -250  14   9}

    {FLAME_BLAST_FRAME 5 -200  22   0}
#enddef
#define STORMKIND_ATTACK_HALO
    halo1_start_time=-400
    halo1_auto_vflip=false
    [halo1_frame]
        halo="halo/saurian-magic-halo-[1~7].png:100"
        halo_y=-15
    [/halo1_frame]

    halo2_start_time=-450
    halo2_auto_vflip=false
    [halo2_frame]
        halo="halo/saurian-magic-halo-[7~1].png:100"
        halo_y=0
    [/halo2_frame]

    halo3_start_time=-400
    halo3_auto_vflip=false
    [halo3_frame]
        halo="halo/saurian-magic-halo-[1~7].png:100"
        halo_y=15
    [/halo3_frame]
#enddef
#define GUARDIAN_DEFENSE_ANIM R G B REACTION_IMAGE BASE_IMAGE HIT_SOUND
    [defend]
        start_time=-175
        [frame]
            duration=25
            image={BASE_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.2)"
        [/frame]
        [frame]
            duration=25
            image={BASE_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.4)"
        [/frame]
        [frame]
            duration=50
            image={REACTION_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.6)"
        [/frame]
        [frame]
            duration=50
            image={REACTION_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.8)"
        [/frame]
        [if]
            hits=hit
            [frame]
                duration=100
                image={REACTION_IMAGE}
                sound={HIT_SOUND}
                halo="halo/guardian-defense-halo.png"
                halo_mod="~CS({R},{G},{B})"
            [/frame]
        [/if]
        [else]
            hits=miss,kill
            [frame]
                duration=100
                image={REACTION_IMAGE}
                halo="halo/guardian-defense-halo.png"
                halo_mod="~CS({R},{G},{B})"
            [/frame]
        [/else]
        [frame]
            duration=50
            image={REACTION_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.8)"
        [/frame]
        [frame]
            duration=25
            image={BASE_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.6)"
        [/frame]
        [frame]
            duration=25
            image={BASE_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.4)"
        [/frame]
        [frame]
            duration=25
            image={BASE_IMAGE}
            halo="halo/guardian-defense-halo.png"
            halo_mod="~CS({R},{G},{B})~O(0.2)"
        [/frame]
    [/defend]
#enddef

#define NOCTUM_BEAM_ANIMATION
    offset=0.0

    beam_auto_vflip=no
    beam_start_time=-400
    beam_offset=1.0
    beam_halo_y=20

    beam_halo_mod="~O(0.8)"

    [beam_frame]
        halo="halo/darkness-beam-[1~7,6~1].png:[30*6,130,70*6]"
    [/beam_frame]
#enddef

#define NOCTUM_FIRE_ANIMATION
    {FLAME_BLAST_ANIMATION}

    flame_blast_1_halo_mod="~B(120)"
    flame_blast_2_halo_mod="~B(120)"
    flame_blast_3_halo_mod="~B(120)"
    flame_blast_4_halo_mod="~B(120)"
    flame_blast_5_halo_mod="~B(120)"
#enddef

#define NOCTUM_BOLT_ANIMATION _N1 _N2
    bolt1_auto_vflip=no
    bolt1_start_time=-175
    bolt1_offset=1.0
    bolt1_halo_y=-125
    bolt1_halo_mod="~R(120)"

    [bolt1_frame]
        halo="halo/lightning-bolt-"+{_N1}+"-3.png:100,halo/lightning-bolt-"+{_N1}+"-4.png:100"
    [/bolt1_frame]

    bolt2_auto_vflip=no
    bolt2_start_time=-100
    bolt2_offset=1.0
    bolt2_halo_y=-125
    bolt2_halo_mod="~R(120)"

    [bolt2_frame]
        halo="halo/lightning-bolt-"+{_N2}+"-4.png:100,halo/lightning-bolt-"+{_N2}+"-4.png~O(0.5):100"
    [/bolt2_frame]

    {SOUND:HIT_AND_MISS lightning.ogg lightning-miss.ogg -175}
#enddef

#define BLOOD_BOLT_ANIMATION _N1 _N2
    {NOCTUM_BOLT_ANIMATION ({_N1}) ({_N2})}

    #bolt1_halo_mod="~CS(120,-64,-64)" purple
    #bolt2_halo_mod="~CS(120,-64,-64)" purple

    bolt1_halo_mod="~CS(255,-32,-32)"
    bolt2_halo_mod="~CS(255,-32,-32)"
#enddef
#define BLOOD_STORM_ANIMATION _BOLT_N1 _BOLT_N2
    [attack_anim]
        [filter_attack]
            name=blood storm
        [/filter_attack]
        start_time=-400
        offset=0.0

        {BLOOD_BOLT_ANIMATION {_BOLT_N1} {_BOLT_N2} }

        [frame]
            duration=600
        [/frame]
    [/attack_anim]
#enddef

#define MISSILE_FRAME_MAGIC_FIST
    # Animate a fist coming down from the heavens.

    missile_start_time=-900

    [if]
        direction=n,ne,nw
        hits=yes
        [missile_frame]
            halo="halo/fist-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-[2~14].png:75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-[14~20].png:75"
            offset=1.0
        [/missile_frame]
    [/if]
    [else]
        direction=s,se,sw
        hits=yes
        [missile_frame]
            halo="halo/fist-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-[2~14].png~FL(vert):75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-[14~20].png~FL(vert):75"
            offset=1.0
        [/missile_frame]
    [/else]
    [else]
        direction=n,ne,nw
        hits=no

        [missile_frame]
            halo="halo/fist-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-[2~6,5~1].png:75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
    [/else]
    [else]
        direction=s,se,sw
        hits=no

        [missile_frame]
            halo="halo/fist-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-[2~6,5~1].png~FL(vert):75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
    [/else]
#enddef

#define MISSILE_FRAME_MAGIC_FIST_RED
    # Animate a fist coming down from the heavens.

    missile_start_time=-900

    [if]
        direction=n,ne,nw
        hits=yes
        [missile_frame]
            halo="halo/fist-red-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-red-[2~14].png:75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-red-[14~20].png:75"
            offset=1.0
        [/missile_frame]
    [/if]
    [else]
        direction=s,se,sw
        hits=yes
        [missile_frame]
            halo="halo/fist-red-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-red-[2~14].png~FL(vert):75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-red-[14~20].png~FL(vert):75"
            offset=1.0
        [/missile_frame]
    [/else]
    [else]
        direction=n,ne,nw
        hits=no

        [missile_frame]
            halo="halo/fist-red-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-red-[2~6,5~1].png:75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
    [/else]
    [else]
        direction=s,se,sw
        hits=no

        [missile_frame]
            halo="halo/fist-red-1.png:250"
            halo_y=-50
            offset=1.0
        [/missile_frame]
        [missile_frame]
            halo="halo/fist-red-[2~6,5~1].png~FL(vert):75"
            halo_y=-50
            offset=1.0
        [/missile_frame]
    [/else]
#enddef
